7 de Outubro, 2016. 

I've downloaded the PCR-Free reads and run FASTQC. Won't do much more localy because Mauro wants it done in the cloud.
There are 262,652,964 pairs of 2x100pd reads (525,305,928 total reads). FASTQC analysis showed good quality of reads.
FASTQC results are in the local lab machine for now:

/home/bioma/protium_2016/Protiumkleinii_S1_L008_R1_001_fastqc.zip 
/home/bioma/protium_2016/Protiumkleinii_S1_L008_R2_001_fastqc.zip
/home/bioma/protium_2016/Protiumkleinii_S1_L008_R1_001_fastqc.html
/home/bioma/protium_2016/Protiumkleinii_S1_L008_R2_001_fastqc.html

11 de Outubro, 2016

1-) Connecting to bastion

chmod 400 bastion.pem 
ssh-add bastion.pem
ssh -A ubuntu@XXXX (details on e-mail)

2-) Starting and stoping the amazon machine

aws ec2 start-instances --instance-ids xxx
aws ec2 stop-instances --instance-ids xxx 

3-) After starting, way 2 minutes and then connect to the machine through ssh.

ssh ubuntu@xxxx (e-mail)


4-) Getting files from S3

s3cmd get s3://bioinfobiobureau/input/ProtiumkleiniiXXX

13-10-2016

Memory consumption of trimmomatic (running command on line 11 of the pipeline document)

top -c: ubuntu    20   0 3420968 810828  10968 S 197.8  9.9 152:16.18 java -jar /usr/share/java/trimmomatic.jar PE

Trimmomatic run succesfully!

Output: 

Input Read Pairs: 262652964 Both Surviving: 260242235 (99.08%) Forward Only Surviving: 14692 (0.01%) Reverse Only Surviving: 1008691 (0.38%) Dropped: 1387346 (0.53%)



20-10-2016

Soapdenovo finished. This is the result:

After that, I thought about running augustus, I did it but stopped before it finishs. I'll run spades to compare those 2 assemblers, and I'm still unsure about masking or not this draft.

ls | grep -P "soap*" | xargs -I {} -P 10 bash -c "/home/ubuntu/scripts/augustus.2.5.5/bin/augustus --genemodel=complete --strand=both --noInFrameStop=true --gff3=on --uniqueGeneId=true --species=arabidopsis --protein=on --codingseq=on {} > {}.complete.gff"


 As I cannot wait, I took one piece of augustus that finished and run a script to get the coding regions. Inside this piece there are 2 thousand coding regions predicted.
"/home/bioma/scripts/augustus.2.5.5/scripts/getAnnoFasta.pl soap.1.fsa.complete.gff --seqfile=/home/bioma/protium_2016/protium.graph_prefix.scafSeq --protein=on --codingseq=on
Then, I decided to make a BLAST with the cyp450 db from JAmerico
blastall -p blastp -i /home/bioma/protium_2016/soap_parts/soap.1.fsa.complete.aa -d PF00067_full_length_sequences.fasta -o /home/bioma/protium_2016/soap_parts/soap.1.fsa.complete.aa.PF00067_full_length.blastp1e05 -e 1e-05
and I found that a good amound, around 220, blasted good with more than 50% of its coverage with the cyps.
cat soap.1.fsa.complete.aa.PF00067_full_length.blastp1e05.cov | awk -F"\t" '($13 >= 50) {print $0}' > soap.1.fsa.complete.aa.PF00067_full_length.blastp1e05.cov.50


21-10-2016

First augustus (arabnopsis) results with SOAP assembly predicted more than 60 thousand proteins. So now I need to clean it. 
/home/bioma/protium_2016/soap_parts/soap.all.fsa.complete.*
